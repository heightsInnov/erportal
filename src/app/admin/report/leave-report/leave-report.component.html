<div class="content-header row">
  <div class="content-header-left col-md-9 col-12 mb-2">
      <div class="row breadcrumbs-top">
          <div class="col-12">
              <h2 class="content-header-title float-left mb-0">Leave Report</h2>
              <div class="breadcrumb-wrapper col-12">
                  <ol class="breadcrumb">
                      <li class="breadcrumb-item"><a [routerLink]="['/admin']">Dashboard</a>
                      </li>
                      <li class="breadcrumb-item">Reports
                      </li>
                      <li class="breadcrumb-item active">Leave report
                      </li>
                  </ol>
              </div>
          </div>
      </div>
  </div>
</div>

<div class="content-body">
  <section>
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-content">
            <div class="card-body">
              <h6 class="card-title"> Filter By:</h6>
              <form [formGroup]="filterForm" (ngSubmit)="onSubmit(filterFormData)">
                <div class="form-body">
                  <div class="row">
                    <div class="col-lg-3 col-md-6 col-12">
                      <div class="form-group">
                        <label for="startDate">Start Date</label>
                        <input type="date" [ngClass]="{'form-control' : true,
                                                        'is-invalid' : (filterFormData.startDate.dirty || filterFormData.startDate.touched) && filterFormData.startDate.invalid,
                                                        'is-valid' : (filterFormData.startDate.dirty || filterFormData.startDate.touched) && filterFormData.startDate.valid
                                                      }" id="startDate" formControlName="startDate">

                        <ng-container *ngIf="(filterFormData.startDate.dirty || filterFormData.startDate.touched) && filterFormData.startDate.invalid">
                          <div *ngIf="filterFormData.startDate.errors.required" class="invalid-feedback">Please Select Start Date </div>
                        </ng-container>
                      </div>
                    </div>

                    <div class="col-lg-3 col-md-6 col-12">
                      <div class="form-group">
                        <label for="endDate">End Date</label>
                        <input type="date" [ngClass]="{'form-control' : true,
                                                        'is-invalid' : (filterFormData.endDate.dirty || filterFormData.endDate.touched) && filterFormData.endDate.invalid,
                                                        'is-valid' : (filterFormData.endDate.dirty || filterFormData.endDate.touched) && filterFormData.endDate.valid
                                                      }" id="endDate" formControlName="endDate">

                        <ng-container *ngIf="(filterFormData.endDate.dirty || filterFormData.endDate.touched) && filterFormData.endDate.invalid">
                          <div *ngIf="filterFormData.endDate.errors.required" class="invalid-feedback">Please Select End Date </div>
                        </ng-container>
                      </div>
                    </div>

                    <div class="col-lg-3 col-md-4 col-6">
                      <div class="form-group">
                        <br>
                        <button type="submit" class="btn btn-outline-primary mr-1 waves-effect waves-light">
                          <i class="feather icon-search"></i> Search
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<div class="content-body">
  <!-- Zero configuration table -->
  <section>
    <div class="row">
      <div class="col-12">
          <div class="card">
            <div class="card-header">
              <div class="ml-auto">
                <button type="button" [disabled]="leaveReports.length === 0" class="btn bg-gradient-primary mb-1 waves-effect waves-light">
                  <i class="feather icon-download"></i> Download Report
                </button>
              </div>
            </div>
            <div class="card-content">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-bordered mb-0">
                    <thead>
                      <tr>
                        <th>Leave No</th>
                        <th>Leave Type</th>
                        <th>Leave Days Left</th>
                        <th>Leave Start</th>
                        <th>Leave End</th>
                      </tr>
                    </thead>
                    <tbody class="table-hover table-striped" *ngFor="let details of leaveReports, let i = index;">
                      <tr>
                        <td>{{details.leave_no}}</td>
                        <td>{{details.leave_type}}</td>
                        <td>{{details.leave_left}}</td>
                        <td>{{details.start_date | date}}</td>
                        <td>{{details.end_date | date}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>
  </section>

</div>
